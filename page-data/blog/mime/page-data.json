{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/mime","webpackCompilationHash":"2a35bdc61fe9be83cdc9","result":{"data":{"markdownRemark":{"html":"<h1>MIME</h1>\n<h2>What is MIME</h2>\n<p><code class=\"language-text\">Multipurpose Internet Mail Extensions (MIME)</code> is an internet standard created to extend the format of email to support many others in addition to just ASCII text, originally it was only used in <code class=\"language-text\">SMTP</code> protocol and later on it was extended to support <code class=\"language-text\">HTTP</code>. MIME type is a meta data set in HTTP request/response header indicating the type of the content. Servers/clients will use this formation to process corresponding content, for example, if the response MIME type is <code class=\"language-text\">video/ogg</code>, then the browsers can play the video in the browser. In absence of MIME type in the header, browsers will guess the MIME type by looking at the actual content. This is called <code class=\"language-text\">MIME sniffing</code>. However, different browsers on different platforms may behave differently and there's also security concerns if the content is executable. Note, server can disable MIME sniffing by sending a <code class=\"language-text\">X-Content-Type-Options</code> along with <code class=\"language-text\">Content-Type</code>.</p>\n<h2>Format</h2>\n<p>MIME types are in <code class=\"language-text\">type/subtype</code> format. <code class=\"language-text\">type</code> indicates a general category like <code class=\"language-text\">text</code>, <code class=\"language-text\">image</code>, <code class=\"language-text\">audio</code>, <code class=\"language-text\">application</code>, <code class=\"language-text\">multipart</code>, etc. <code class=\"language-text\">subtype</code> gives more specific information, for example, under <code class=\"language-text\">text</code> category, there are <code class=\"language-text\">plain</code>, <code class=\"language-text\">document</code>, <code class=\"language-text\">css</code>, etc.</p>\n<h2>MIME for Web Developers</h2>\n<p>There are many types of MIME types and some of them are particular important to web developers.</p>\n<h3>application/octet-stream</h3>\n<p><code class=\"language-text\">application</code> represents a binary file type and <code class=\"language-text\">application/octet-stream</code> is the default MIME type for binary file, browsers will treat it as a <em>Unknown</em> type and show a download window prompting the user to save it locally.</p>\n<h3>text/plain</h3>\n<p><code class=\"language-text\">text/plain</code> represents plain text, browsers will display them directly.</p>\n<h3>text/html</h3>\n<p><code class=\"language-text\">text/html</code> is the type for web pages, a.k.a, document. With this type set, browser will know this is a document and it will parse it and do further processing, like retrieve static files, render style, etc.</p>\n<h3>application/json</h3>\n<p><code class=\"language-text\">application/json</code> is the MIME type to exchange <code class=\"language-text\">JSON</code> text. It is often used in <code class=\"language-text\">XmlHttpRequest</code> requests.</p>\n<h3>application/x-www-form-urlencoded</h3>\n<p><code class=\"language-text\">application/x-www-form-urlencoded</code> is a MIME type used in HTTP POST request. With this MIME type set, browsers will encode the form data (key/value pairs) into a query string: <em>keyOne=valueOne&#x26;keyTwo=ValueTwo</em>. Server will know how to extract the key/value pairs from the query string. For any non-alphanumeric characters, it will be replaced by <em>%HH</em>, each <em>H</em> here is a hexadecimal digit representing the ASCII code of the character.</p>\n<h3>multipart/form-data</h3>\n<p><code class=\"language-text\">multipart/form-data</code> is another MIME type used in HTTP POST requests. <code class=\"language-text\">multipart</code> category means the data consists of multiple parts/MIME types.  Those different parts are delimited by a boundary (a string started with a double dash '--') and each part is an entity by itself, with its own HTTP headers. For details, see <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types#Important_MIME_types_for_Web_developers\">MDN</a>.</p>\n<h3>application/x-www-form-urlencoded vs multipart/form-data</h3>\n<p><code class=\"language-text\">application/x-www-form-urlencoded</code> and <code class=\"language-text\">multipart/form-data</code> are the only two MIME types used by HTML form POST, however what are the differences between them and when should we use which?</p>\n<p><strong>TL;DR</strong></p>\n<p>We should use <code class=\"language-text\">multipart/form-data</code> if there's any binary data in the form data, otherwise, use <code class=\"language-text\">application/x-www-form-urlencoded</code>.</p>\n<p>As mentioned above, browsers will replace a non-alphanumeric character with 3 characters which will triple the size of the data. With large binary file in form data, tripling the data size will be dramatically inefficient, thus using <code class=\"language-text\">multipart/form-data</code> will be a better choice. Vice versa, if the form data are small size, using <code class=\"language-text\">multipart/form-data</code> will introduce much larger overhead (Boundary string).</p>\n<p>Another interesting note when using <code class=\"language-text\">multipart/form-data</code> is the boundary string chosen. The boundary string must be unique from data value, otherwise servers will pick the delimiters in the wrong places.  <a href=\"https://stackoverflow.com/a/23152871\">This answer from StackOver</a> provides an interesting option.</p>\n<h2>References</h2>\n<ol>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types\">MIME types - MDN</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4007969/application-x-www-form-urlencoded-or-multipart-form-data\">StackOverflow: application/x-www-form-urlencoded vs multipart/form-data</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/MIME\">MIME - Wikipedia</a></li>\n<li><a href=\"https://tools.ietf.org/html/rfc2045\">RFC 2045</a></li>\n</ol>","frontmatter":{"date":"December 09, 2017","path":"/blog/mime","title":"MIME"}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}